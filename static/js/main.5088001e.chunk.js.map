{"version":3,"sources":["componenets/App.module.css","componenets/SearchForm/SearchForm.module.css","componenets/PhotoCard/PhotoCard.module.css","componenets/Gallery/Gallery.module.css","componenets/Modal/Modal.module.css","componenets/SearchForm/SearchForm.js","componenets/PhotoCard/PhotoCard.js","componenets/Gallery/Gallery.js","componenets/Modal/Modal.js","services/images-api.js","componenets/App.js","index.js"],"names":["module","exports","SearchForm","execOnSubmit","className","styles","searchForm","onSubmit","type","autoComplete","placeholder","PhotoCard","props","galleryItem","webformatURL","largeImageURL","likes","views","comments","downloads","tags","showingModal","toToggleModal","st","photoCard","src","alt","stats","statsItem","fullscreenButton","onClick","e","Gallery","galleryItems","isLoading","toLoadMore","length","gallery","map","key","id","button","name","disabled","spinner","bounce1","bounce2","bounce3","Modal","state","handleEscKey","keyCode","document","addEventListener","this","removeEventListener","srcURL","lightbox","lightbox__overlay","lightbox__content","lightbox___image","lightbox__button","Component","defaultProps","API_INITIAL_STATE","baseUrl","imageType","orientation","q","page","perPage","getImageList","query","apiState","strQuery","imageList","axios","get","then","res","data","hits","catch","err","console","log","INITIAL_STATE","loading","App","handleLoadMoreClick","a","setState","imageAPI","window","scrollBy","innerHeight","handleSearchSubmit","preventDefault","userInput","target","value","toast","warn","autoClose","toggleModal","currentTarget","KeyboardEvent","prevState","app","undefined","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.5088001e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__2CbUm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__VqdiJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"PhotoCard_photoCard__2PoJN\",\"stats\":\"PhotoCard_stats__1o768\",\"statsItem\":\"PhotoCard_statsItem__GOVxS\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__1cDGE\",\"galleryItem\":\"PhotoCard_galleryItem__2Drbi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__3gv1H\",\"button\":\"Gallery_button__10MxW\",\"spinner\":\"Gallery_spinner__2d8KM\",\"sk-bouncedelay\":\"Gallery_sk-bouncedelay__cmb6r\",\"bounce1\":\"Gallery_bounce1__1lsBy\",\"bounce2\":\"Gallery_bounce2__2VAe8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lightbox\":\"Modal_lightbox__2S8Fi\",\"lightbox__overlay\":\"Modal_lightbox__overlay__3Ycmv\",\"lightbox__content\":\"Modal_lightbox__content__10gbs\",\"lightbox___image\":\"Modal_lightbox___image__3aCBw\",\"lightbox__button\":\"Modal_lightbox__button__3bcdG\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './SearchForm.module.css';\n\nfunction SearchForm({ execOnSubmit }) {\n  return (\n    <form className={styles.searchForm} onSubmit={execOnSubmit}>\n      <input type=\"text\" autoComplete=\"off\" placeholder=\"Search images...\" />\n    </form>\n  );\n}\n\nSearchForm.propTypes = {\n  execOnSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport st from './PhotoCard.module.css';\n\nfunction PhotoCard(props) {\n  const {\n    webformatURL,\n    largeImageURL,\n    likes,\n    views,\n    comments,\n    downloads,\n    type,\n    tags,\n  } = props.galleryItem;\n\n  const { showingModal, toToggleModal } = props;\n\n  return (\n    <li className={st.galleryItem}>\n      <div className={st.photoCard}>\n        <img src={webformatURL} alt={`${type} with tags: ${tags}`} />\n\n        <div className={st.stats}>\n          <p className={st.statsItem}>\n            <i className=\"material-icons\">thumb_up</i>\n            {likes}\n          </p>\n          <p className={st.statsItem}>\n            <i className=\"material-icons\">visibility</i>\n            {views}\n          </p>\n          <p className={st.statsItem}>\n            <i className=\"material-icons\">comment</i>\n            {comments}\n          </p>\n          <p className={st.statsItem}>\n            <i className=\"material-icons\">cloud_download</i>\n            {downloads}\n          </p>\n        </div>\n\n        {!showingModal && (\n          <button type=\"button\" className={st.fullscreenButton}>\n            <i\n              className=\"material-icons\"\n              onClick={e => toToggleModal(e, largeImageURL)}\n            >\n              zoom_out_map\n            </i>\n          </button>\n        )}\n      </div>\n    </li>\n  );\n}\n\nPhotoCard.propTypes = {\n  showingModal: PropTypes.bool.isRequired,\n  toToggleModal: PropTypes.func.isRequired,\n};\n\nexport default PhotoCard;\n","import React from 'react';\n\nimport PhotoCard from '../PhotoCard/PhotoCard';\n\nimport st from './Gallery.module.css';\n\nfunction Gallery({\n  showingModal,\n  galleryItems,\n  isLoading,\n  toLoadMore,\n  toToggleModal,\n}) {\n  return (\n    <>\n      {galleryItems.length > 0 && (\n        <>\n          <ul className={st.gallery}>\n            {galleryItems.map(galleryItem => (\n              <PhotoCard\n                key={galleryItem.id}\n                galleryItem={galleryItem}\n                toToggleModal={toToggleModal}\n                showingModal={showingModal}\n              />\n            ))}\n          </ul>\n          <button\n            className={st.button}\n            type=\"button\"\n            onClick={toLoadMore}\n            name=\"LoadMore\"\n            disabled={isLoading}\n          >\n            {isLoading ? 'Loading ' : 'Load more'}\n            {isLoading ? (\n              <span className={st.spinner}>\n                <div className={st.bounce1} />\n                <div className={st.bounce2} />\n                <div className={st.bounce3} />\n              </span>\n            ) : (\n              ''\n            )}\n          </button>\n        </>\n      )}\n    </>\n  );\n}\n\nexport default Gallery;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport st from './Modal.module.css';\n\nexport class Modal extends Component {\n  state = {};\n\n  componentDidMount() {\n    document.addEventListener('keydown', this.handleEscKey, false);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.handleEscKey, false);\n  }\n\n  handleEscKey = e => {\n    if (e.keyCode === 27) {\n      this.props.toToggleModal(e, '');\n    }\n  };\n\n  render() {\n    const { toToggleModal, srcURL } = this.props;\n    return (\n      <div className={st.lightbox}>\n        <div className={st.lightbox__overlay} />\n\n        <div\n          className={st.lightbox__content}\n          onClick={e => toToggleModal(e, '')}\n        >\n          <img className={st.lightbox___image} src={srcURL} alt=\"\" />\n        </div>\n\n        <button type=\"button\" className={st.lightbox__button}>\n          <i className=\"material-icons\" onClick={e => toToggleModal(e, '')}>\n            close\n          </i>\n        </button>\n      </div>\n    );\n  }\n}\n\nModal.defaultProps = {\n  srcURL: '',\n};\n\nModal.propTypes = {\n  toToggleModal: PropTypes.func.isRequired,\n  srcURL: PropTypes.string,\n};\n\nexport default Modal;\n","import axios from 'axios';\n\nconst DEFAULT_QUERY = '';\nconst DEFAULT_PAGE = 1;\n\nconst API_INITIAL_STATE = {\n  baseUrl: 'https://pixabay.com/api/',\n  key: '13247929-24969c80cab3ee5b7c0b2131a',\n  imageType: 'photo',\n  orientation: 'horizontal',\n  q: DEFAULT_QUERY,\n  page: DEFAULT_PAGE,\n  perPage: 12,\n};\n\nexport const getImageList = (\n  query = { q: DEFAULT_QUERY, page: DEFAULT_PAGE },\n) => {\n  const apiState = {\n    ...API_INITIAL_STATE,\n    ...query,\n  };\n\n  const strQuery =\n    `${apiState.baseUrl}?` +\n    `key=${apiState.key}&&` +\n    `image_type=${apiState.imageType}&&` +\n    `orientation=${apiState.orientation}&&` +\n    `per_page=${apiState.perPage}&&` +\n    `q=${apiState.q}&&` +\n    `page=${apiState.page}`;\n\n  const imageList = axios\n    .get(strQuery)\n    .then(res => res.data.hits)\n    .catch(err => console.log('err', err));\n\n  return imageList;\n};\n\nexport const w = () => {};\n","import React, { Component } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport styles from './App.module.css';\n\nimport SearchForm from './SearchForm/SearchForm';\nimport Gallery from './Gallery/Gallery';\nimport Modal from './Modal/Modal';\n\nimport * as imageAPI from '../services/images-api';\n\nconst INITIAL_STATE = {\n  galleryItems: [],\n  page: 1,\n  q: '',\n  loading: false,\n  showingModal: false,\n  largeImageURL: '',\n};\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.state = { ...INITIAL_STATE };\n  }\n\n  handleLoadMoreClick = async () => {\n    await this.setState((state, props) => ({\n      loading: true,\n      page: state.page + 1,\n    }));\n    const { q, page } = this.state;\n    const imageList = await imageAPI.getImageList({ q, page });\n\n    await this.setState((state, props) => ({\n      loading: false,\n      galleryItems: [...state.galleryItems, ...imageList],\n    }));\n\n    // await setTimeout(() => window.scrollBy(0, window.innerHeight), 2000);\n    window.scrollBy(0, window.innerHeight - 100);\n  };\n\n  handleSearchSubmit = async e => {\n    e.preventDefault();\n    const userInput = e.target[0].value;\n    e.target[0].value = '';\n\n    if (userInput.length < 3) {\n      toast.warn('At least 3 characters to start search !', {\n        autoClose: 5000,\n      });\n      return;\n    }\n\n    await this.setState({ q: userInput, loading: true, page: 1 });\n\n    const { q, page } = this.state;\n    const imageList = await imageAPI.getImageList({ q, page });\n    this.setState({ galleryItems: imageList, loading: false });\n  };\n\n  toggleModal = async (e, largeImageURL) => {\n    if (e.target === e.currentTarget || e instanceof KeyboardEvent) {\n      await this.setState(prevState => ({\n        showingModal: !prevState.showingModal,\n        largeImageURL,\n      }));\n    }\n  };\n\n  render() {\n    const { galleryItems, loading, showingModal, largeImageURL } = this.state;\n\n    return (\n      <div className={styles.app}>\n        <SearchForm execOnSubmit={this.handleSearchSubmit} />\n        {galleryItems === undefined ? (\n          <p>Network error ...</p>\n        ) : (\n          <Gallery\n            galleryItems={galleryItems}\n            isLoading={loading}\n            toLoadMore={this.handleLoadMoreClick}\n            toToggleModal={this.toggleModal}\n            showingModal={showingModal}\n          />\n        )}\n        {showingModal && (\n          <Modal toToggleModal={this.toggleModal} srcURL={largeImageURL} />\n        )}\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './componenets/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}